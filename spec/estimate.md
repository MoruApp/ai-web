# プロジェクト見積書

**作成日**: 2025年11月27日
**有効期限**: 本見積もりは提示日から60日間有効とし、要件・スコープの大きな変更が生じた場合は再見積もりとする。

---

## 1. プロジェクト概要

社内FAQを活用したAIコンシェルジュWebアプリ（フロントエンド＋FastAPIバックエンド＋PostgreSQL/pgvector＋社内SSO＋LLM連携）のβ版MVPを、約1か月で構築し社内限定で試験運用するプロジェクト。

---

## 2. 見積サマリー

| 項目 | 値 |
|------|-----|
| **総工数** | 416.0 時間 |
| **単価** | ¥8,000/時間 |
| **総額（税抜）** | **¥3,328,000** |
| **総額（税込10%）** | **¥3,660,800** |
| **品質レベル** | High |

### 品質レベルの根拠

β版とはいえ社内SSO連携・社内ネットワーク限定・ログ保存・誤回答リスク・回答履歴管理などセキュリティ/信頼性要求が高く、社内ユーザー多数が利用する想定のため基本的な負荷・セキュリティ・監視を含む。だが商用SaaS本番レベルの冗長構成や監査・大規模負荷試験までは求められていないためEnterpriseまでは不要と判断し、テストとドキュメントを重視するHighを採用。

---

## 3. 工数内訳

### 3.1 タスクカテゴリ別

| カテゴリ | タスク数 | 平均難易度 | 基本工数 | 調整後工数 |
|----------|----------|------------|----------|------------|
| Setup & Project Foundation | 4 | Low | 16.0h | 16.0h |
| Frontend: Routing, Layout, Responsive UI (US-001,002,003,004,014,015 部分) | 2 | Medium | 12.0h | 12.0h |
| Backend Core Platform (FastAPI基盤・共通ミドルウェア) | 1 | Medium | 6.0h | 6.0h |
| Data Modeling & DB Migrations (ER設計, PostgreSQL+pgvector) | 1 | Medium | 6.0h | 6.0h |
| Auth & RBAC Integration (US-005, FR-012, FR-013) | 1 | High | 10.0h | 10.0h |
| FAQ Search & Answering Logic (FR-001,FR-002,FR-003,FR-007) | 2 | High | 20.0h | 20.0h |
| Conversation & History Management (US-002,US-004,FR-004,FR-005,FR-008,FR-009) | 2 | Medium | 12.0h | 12.0h |
| Responsive UX & Suggestions (US-001入力補助, US-001/002スマホUI, FR-014) | 1 | Medium | 6.0h | 6.0h |
| Admin FAQ Management UI & API (US-003,FR-006,FR-007,FR-011一部をMVPレベル) | 2 | Medium | 12.0h | 12.0h |
| Nonfunctional: Logging, Monitoring, Security, Backup (NFR-001〜009のMVP対応) | 2 | High | 20.0h | 20.0h |
| Documentation & Simple User Manual (FR-015, 開発プロセスAI活用記録) | 2 | Low | 16.0h | 16.0h |
| Testing, QA & Beta Release Preparation | 4 | Medium | 24.0h | 24.0h |

### 難易度判定の根拠

- **Setup & Project Foundation**: TASK-001〜004はリポジトリ構成、Docker/compose、.env、CI、ドキュメント整備といった標準的な初期セットアップであり、新規性や複雑なロジックは少ない。既存テンプレートや過去プロジェクトの流用が容易なためLowとする。
- **Frontend: Routing, Layout, Responsive UI (US-001,002,003,004,014,015 部分)**: TASK-005（ルーティング設計）とTASK-006（レスポンシブUI＋共通コンポーネント）は、Next.js/React Routerの標準機能の範囲だが、PC/スマホでのUX要件（チャットUI、履歴一覧、管理ナビゲーション）を満たす必要があるため単純なCRUD画面よりは複雑。デザイン指針やUIライブラリ選定も含めMediumとする。
- **Backend Core Platform (FastAPI基盤・共通ミドルウェア)**: 設計書ではNode/Express例が記載されているが、要件上はFastAPI/Python構成。いずれにしてもログ/エラー/ヘルスチェック/OpenAPI生成などのAPI基盤は一般的であり、チューニングや複雑なドメインロジックは別タスクに分離されるためMedium。既存経験が前提なら工数は抑えめ。
- **Data Modeling & DB Migrations (ER設計, PostgreSQL+pgvector)**: User/FAQ/カテゴリ/会話セッション/メッセージ/履歴/誤回答フラグなど複数エンティティ間のリレーションと、pgvectorを含むスキーマ設計が必要。一般的な業務アプリ水準の複雑さで新技術依存は限定的なためMediumとする。
- **Auth & RBAC Integration (US-005, FR-012, FR-013)**: 実際の社内IdP（OIDC/SAMLなど）と連携しSSOを実装する場合、IdP側設定・クレーム設計・トークン検証・ロール判定の調整が発生する。MVP段階ではモックから開始しつつも、本番に近い形の抽象化インターフェースと将来の切り替えを考慮する必要があり、外部認証基盤との連携要素もあるためHigh。
- **FAQ Search & Answering Logic (FR-001,FR-002,FR-003,FR-007)**: FAQ全文検索＋ベクトル検索（pgvector）＋LLM連携による回答生成、FAQ優先プロンプト設計、信頼度スコアによるエスカレーション判断など、ドメインロジックと外部AIサービス統合が絡む。性能要求（95% 2秒以内）とセキュリティ制約を満たしつつ、β版として実用レベルの品質を出す必要があるためHighとする。
- **Conversation & History Management (US-002,US-004,FR-004,FR-005,FR-008,FR-009)**: 問い合わせ履歴一覧・詳細、会話ログ保存・管理者向け検索/フィルタ/詳細閲覧、誤回答マーキングは、テーブル構成やインデックス設計がやや多いものの、基本はCRUD＋フィルタ。権限制御やプライバシー配慮（部署単位・ユーザー情報）も考慮が必要だが、パターンは一般的な管理画面と近くMediumと判定。
- **Responsive UX & Suggestions (US-001入力補助, US-001/002スマホUI, FR-014)**: 入力中の停止検出によるFAQサジェスト表示、モバイルでの縦長最適化、カード表示切替など、フロント側のUXロジックが関与する。パフォーマンスやAPI呼び過ぎ防止（デバウンス）も考慮するが、新技術は不要なためMedium。
- **Admin FAQ Management UI & API (US-003,FR-006,FR-007,FR-011一部をMVPレベル)**: FAQ CRUD＋公開/非公開、論理削除、カテゴリ・部署タグなど、典型的な管理画面。バリデーション・更新履歴・下書き状態などの実装が必要だが、画面/APIともにパターン化しやすく、他カテゴリと比較すると難易度は中程度。
- **Nonfunctional: Logging, Monitoring, Security, Backup (NFR-001〜009のMVP対応)**: APM/メトリクス連携（社内標準基盤との統合）、HTTPS/TLS設定（多くはインフラ側と協調）、バックアップジョブ設計、エラー・監査ログ出力、マスキング対応の検討など、インフラチームとの折衝や既存プラットフォームへの適合調整が必要。外部依存があるためHighとする。
- **Documentation & Simple User Manual (FR-015, 開発プロセスAI活用記録)**: docs/requirements整備の継続、API仕様の確定版、簡易ユーザーマニュアル（ヘルプ画面）およびAI自動生成プロセスの記録作成。テキスト中心であり、特殊ツールや高度な分析は不要のためLow。
- **Testing, QA & Beta Release Preparation**: 単体テスト/統合テストに加え、社内認証・LLM連携・性能（簡易負荷）をカバーするシナリオテスト、β版リリース手順書、ロールアウト計画、ロールバックプラン作成などを含む。テスト専門チームがつくか不透明だが、MVPとして一定レベルの品質確保が求められるためMedium。

### 3.2 工程別

| 工程 | 工数 | 内容 |
|------|------|------|
| 設計・準備 | 62.4h | 要件精査、画面遷移・API仕様確定、ER設計、アーキテクチャ詳細設計、開発環境構築、CI設定、IdP/LLM/インフラ担当との事前調整。総工数の15%を配分（後述総工数416h × 0.15 ≒ 62.4h）。 |
| 実装 | 208.0h | フロントエンド（チャットUI、履歴、管理画面）、バックエンドAPI（FAQ検索・会話ログ・認証・権限・LLM連携）、DBマイグレーション、ログ/監視連携などのコーディング。総工数の50%（416h × 0.5）。 |
| テスト | 104.0h | 単体テスト、API/画面統合テスト、社内IdP・LLM連携テスト、性能確認（簡易負荷）、セキュリティ観点の確認（権限・ログ・ネットワーク範囲）。総工数の25%（416h × 0.25）。 |
| ドキュメント・引き渡し | 41.6h | ユーザーマニュアル、管理者向け運用手順、システム構成図、API仕様、バックアップ運用説明、AI自動生成プロセスのエビデンス整理、βリリース手順書。総工数の10%（416h × 0.10）。 |

---

## 4. リスク調整

| リスク要因 | 影響 | 根拠 |
|------------|------|------|
| 要件の明確さ・スコープブレ | +25% | 要確認項目が多数（多言語対応、外部システムAPI連携、誤回答の扱い、ユーザー評価取得方法など）存在し、MVPに含める/含めないの線引き次第で作業量が変動する。β版で一部WANT機能（自動改善レポート等）をどこまで入れるかも不明なため、レンジ10〜30%の上限寄り25%を採用。 |
| 技術的な新規性（LLM連携・pgvector・AI自動開発プロセス） | +18% | LLM連携自体は既存ノウハウがある前提でも、社内ネットワーク制約下での接続パターン、FAQ優先プロンプト設計、信頼度スコアロジックのPoC、AI自律開発プロセスの実験と証跡の残し方など、新規要素が多い。10〜20%レンジの中でやや高めの18%を設定。 |
| 外部依存（社内IdP、インフラ基盤、LLMサービス） | +12% | 社内IdPの設定変更やクレーム設計、Kubernetes/VMなどインフラの提供スケジュール、LLMサービス（社内orクラウド）の確定と接続テストなど、複数の外部チーム・サービスに依存する。不確定要素はあるが、完全未整備ではない前提で5〜15%レンジの中間程度12%を採用。 |

---

## 5. 前提条件

- 開発チームはフルスタックエンジニア2〜3名程度＋PM/QAサポートで構成され、FastAPI/Python・React/TypeScript・PostgreSQL/pgvector・LLM連携の経験があることを前提とする。
- LLMサービス（Azure OpenAI など）および社内IdPの利用可否・方式（OIDC/SAML）はプロジェクト開始前に決定済みで、必要なクライアント登録やネットワーク設定は並行してインフラ/情シス側で実施される前提とする。
- WANT要件（FR-010: 回答精度の自動改善レポート、FR-011: 質問カテゴリ自動分類）はMVPでは簡易版またはスコープ外とし、主にログ・メタデータの蓄積までを行い、分析UIや自動バッチは最低限に留める。
- 多言語対応、外部SaaSとしての本番運用、インターネット公開、他社システムAPI連携は本見積もりの対象外とし、日本語のみ社内ネットワーク内でのβ運用を前提とする。
- 既存の監視基盤（ログ集中管理、メトリクス可視化）が利用可能であり、本プロジェクトではアプリケーション側へのエージェント/エクスポータ導入とメトリクス定義に留める。

---

## 6. 対象外事項

- 商用SaaS本番リリースに向けたマルチテナント対応、課金・請求、顧客アカウント管理などの機能は含まない。
- 24/7の高可用性構成（マルチAZ、フェイルオーバ自動化）、DRサイト構築、大規模負荷試験（数千ユーザー規模）は対象外とする。
- 高度な分析ダッシュボード（誤回答分析、部署別利用状況のグラフ表示など）の詳細UI実装は含まず、必要なデータをログ/DBに蓄積するまでとする。
- コールセンターや電話チャネル、他社システム（勤怠・経費）のリアルタイムAPI連携、チャット以外のUIチャネル（Teams, Slack連携など）は対象外とする。
- 本見積もりにはインフラコスト（サーバ・クラウド利用料）、LLM API利用料、IdPや監視基盤など他システムのライセンス費用は含まない。

---

## 7. 補足事項

上記416時間は、タスク難易度と品質係数（High:1.3）およびリスクバッファ（要件25%＋技術18%＋外部依存12%を合算し約55%）を考慮した現実的な水準を狙ったものである。1か月（4週間）でのMVP開発を想定すると、フルタイムエンジニア2名＋PM/QA一部稼働でほぼ限界に近い負荷となるため、スケジュールを守るにはWANT機能の優先度見直しと、IdP/LLM/インフラとの調整リードタイムを極力前倒しすることを推奨する。

---

## 8. 算出方法

本見積は以下の方法で算出しています：

### 基本工数算出
```
基本工数 = タスク数 × 難易度係数 × 基準時間（4時間/タスク）
```

### 難易度係数

| 難易度 | 係数 | 基準 |
|--------|------|------|
| Low | 1.0 | 単純な実装、既存パターンの適用 |
| Medium | 1.5 | 一般的な機能実装、適度な複雑さ |
| High | 2.5 | 複雑なロジック、外部連携、新技術 |
| Critical | 4.0 | アーキテクチャ設計、セキュリティ、パフォーマンス最適化 |

### 品質係数

| 品質レベル | 係数 | 説明 |
|------------|------|------|
| Standard | 1.0 | 一般的な品質、基本的なテスト |
| High | 1.3 | 詳細なテスト、ドキュメント充実 |
| Enterprise | 1.8 | 高可用性、セキュリティ監査、負荷テスト |
| Mission Critical | 2.5 | 障害ゼロ要件、24/7運用、完全なドキュメント |

### 工程別配分

| 工程 | 配分 |
|------|------|
| 設計・準備 | 15% |
| 実装 | 50% |
| テスト | 25% |
| ドキュメント・引き渡し | 10% |

---

*本見積書は AI Dev Toolkit により自動生成されました*
*最終的な金額は、詳細なヒアリング後に確定いたします*
